<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>What Is Devops - 2014/12/04 @ ThoughtWorks Xi'An - Laurence J MacGuire</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>What Is DevOps?</h1>
					<h3>It's not all about tools.</h3>
					<p>
						<small>Created by <a href="http://github.com/leprechaun/">Laurence J MacGuire a.k.a Liu Jian Ming</a></small>
					</p>
					<p>
						<small>ThoughtWorks Xi'An, 2014/12/04</small>
					</p>
				</section>

				<section>
					<section id="fragments">
						<h2>The 5 " W's "</h2>
						<ul>
							<li class="fragment">Who?</li>
							<li class="fragment">What?</li>
							<li class="fragment">Where?</li>
							<li class="fragment">When?</li>
							<li class="fragment">Why?</li>
							<li class="fragment">... and How?</li>
						</ul>
					</section>
				</section>

				<section>
					<h2>Segregated Roles</h2>
					<ul>
						<li class="fragment">Developers</li>
						<li class="fragment">BAs</li>
						<li class="fragment">PMs</li>
						<li class="fragment">Designers</li>
						<li class="fragment">Data Nerds</li>
						<li class="fragment">QAs</li>
						<li class="fragment">Sysadmins</li>
						<li class="fragment">Clients</li>
					</ul>
				</section>

				<section>
					<section>
						<h2>Developers</h2>
						<p>Responsibilities</p>
						<ul>
							<li>?</li>
							<li class="fragment">Write code</li>
							<li class="fragment">Fix bugs</li>
							<li class="fragment">Test things</li>
						</ul>
					</section>
					<section>
						<h2>Developers</h2>
						<p>Requirements</p>
						<ul>
							<li>?</li>
							<li class="fragment">Tools (Editors, IDEs, Debuggers, etc)</li>
							<li class="fragment">The Internet (LOL, HuaWei)</li>
							<li class="fragment">Clear direction from 'Business Roles'</li>
							<li class="fragment">An Ops team to run their software</li>
						</ul>
					</section>
					<section>
						<h2>Developers</h2>
						<p>Wants</p>
						<ul>
							<li>?</li>
							<li class="fragment">Build cool stuff</li>
							<li class="fragment">Use cutting/bleeding edge tools</li>
							<li class="fragment">And ship fast, move on to the next cool thing</li>
							<li class="fragment">No bugs</li>
						</ul>
					</section>

				</section>

				<section>
					<section>
						<h2>Sysadmins</h2>
						<p>Responsibilities</p>
						<ul>
							<li>?</li>
							<li class="fragment">Keep systems up and running
								<ul>
									<li>Up-to-date</li>
									<li>Secure</li>
									<li>Working</li>
								</ul>
							</li>
							<li class="fragment">Provision systems
								<ul>
									<li>because of growth</li>
									<li>because of new requirements</li>
								</ul>
							</li>
						</ul>
					</section>
					<section>
						<h2>Sysadmins</h2>
						<p>Requirements</p>
						<ul>
							<li>?</li>
							<li class="fragment">Stable/Predictable software</li>
							<li class="fragment">Clear/Consistent growth/change plan</li>
						</ul>
					</section>
					<section>
						<h2>Sysadmins</h2>
						<p>Wants</p>
						<ul>
							<li>?</li>
							<li class="fragment">Replace themselves w/ a script</li>
							<li class="fragment">Never hear their pagers</li>
						</ul>
					</section>
				</section>

				<section>
					<h2>Conflict!</h2>
					<ul>
						<li>Cutting/bleeding edge software is NOT stable/predictable software</li>
						<li>Rushed releases is NOT a clear change/growth plan</li>
					</ul>
				</section>

				<section>
					<h2>Conflict!</h2>
					<ul>
						<li class="fragment">Dev: "I want {mongodb-2.Xalpha|amazing-non-ACID-compliant-'database'-beta"</li>
						<li class="fragment">Sysadmin: "Nope. It's unstable"</li>
					</ul>
					<img class="fragment" src="images/crying.png" style="float: right; width: 300px; height: 300px;">
				</section>

				<section>
					<h2>Conflict!</h2>
					<ul>
						<li class="fragment">Sysadmin: "There's a bug in production."</li>
						<li class="fragment">Dev: "It works in development. kthxbai."</li>
					</ul>
					<img class="fragment" src="images/poker-face.png" style="float: right; width: 300px; height: 300px;">
				</section>

				<section>
					<h2>Conflict!</h2>
					<ul>
						<li class="fragment">Dev: "I fixed the problem w/ `chmod -R 777 /`"</li>
						<li class="fragment">Sysadmin: "*&$(*&@#(*&#$"</li>
					</ul>
					<img class="fragment" src="images/fu.png" style="float: right; width: 300px; height: 300px;">
				</section>

				<section>
					<h2>Conflict!</h2>
					<ul>
						<li class="fragment">Dev: "We want to ship this software"</li>
						<li class="fragment">Sysadmin: "Ok. Our next change window is in 18 days."</li>
					</ul>
					<img class="fragment" src="images/okay.png" style="float: right; width: 300px; height: 300px;">
				</section>

				<section>
					<h2>Conflict</h2>
					<ul>
						<li class="fragment">Sysadmin: "Your app is slow. Your queries are bad and you should feel bad."</li>
						<li class="fragment">Dev:
							<ul>
								<li class="fragment">"No it's not." (of course it's fast w/ 16GB RAM, an SSD and 0.1% of production data)</li>
								<li class="fragment">"Add more servers!"</li>
								<li class="fragment">"Talk to the DBA"</li>
								<li class="fragment">"Isn't that your job?"</li>
							</ul>
						 </li>
					<img class="fragment" src="images/trollolo.png" style="float: right; width: 300px; height: 300px;">
					</ul>
				</section>

				<section>
					<h2>Battle of (Two) Roles</h2>
					<ul>
						<li class="fragment">Sysadmins can become very protective of their domain, and introduce strict barriers to change</li>
						<li class="fragment">Developers can "give up", and just "throw stuff over the fence" ... "Here, it's your problem now."</li>
					</ul>
					<p class="fragment">It's bad. It's a self-reinforcing cycle and everybody loses.</p>
				</section>

				<section>
					<section>
						<h2>What's Changed?</h2>
						<ul>
							<li class="fragment">Moore's Law
								<ul>
									<li class="fragment">Good: Computers are so fast that many CPU bound tasks can be virtualised.</li>
									<li class="fragment">Bad: Moore's law isn't so true anymore. We need to parallellise things, now.</li>
								</ul>
							</li>
							<li class="fragment">Scaling problems have grown (large internet penetration + service conglomeration)
								<ul>
									<li class="fragment">We now scale horizontally more than vertically.</li>
									<li class="fragment">Support for all things distributed has increased dramatically.</li>
								</ul>
							</li>
						</ul>
					</section>
					<section>
						<h2>What's Changed</h2>
						<ul>
							<li>Mature Virtualisation (or 'Containerization', or whatever your prefered term for isolation is)
								<ul>
									<li>Offers programmatic access to resources</li>
								</ul>
							</li>
							<li>Other low-level components started being virtualised or offering programmatic access (switches, routers, storage)
								<ul>
									<li>Offers programmatic access to resources</li>
								</ul>
							</li>
						</ul>
					</section>

				</section>

				<section>
					<section>
						<h2>What's it like Now?</h2>
						<p class="fragment">Good sysadmins have always strived for automation ... but ...
						<p class="fragment">the complexity of architectures has grown A LOT</p>
						<p class="fragment">Automation is NOT a luxury. It's a necessity.</p>
					</section>
					<section>
						<h2>What's it like Now?</h2>
						<blockquote>Tools now expose *cohesive* sets of architecture *primitives*</blockquote>
						<blockquote>New tools make all aspects of systems management *composable*</blockquote>
					</section>
					<section>
						<h2>What's it like Now?</h2>
						<p class="fragment">We deal with infrastructure in terms of abstraction now</p>
						<ul>
							<li class="fragment">Servers aren't in a metal case</li>
							<li class="fragment">A server is computation power + Memory + I/O (network + storage)</li>
							<li class="fragment">Storage isn't a hard disk</li>
							<li class="fragment">It's some kind of thing that maps to /dev/sdx (maybe)</li>
						</ul>
					</section>
				</section>

				<section>
					<section>
						<h2>What is DevOps?</h2>
						<p>DevOps is NOT a tool.</p>
						<p>DevOps is NOT someone.</p>
						<p>DevOps is NOT team.</p>
					</section>
					<section>
						<h2>Right, but What is DevOps?</h2>
						<p>Dev - Ops</p>
						<p>Development &amp; Operations</p>
						<p>It's bridging the gap between development and operations</p>
						<p class="fragment">DevOps is a way of doing things. It's an attitude.</p>
					</section>
				</section>


				<section>
					<section>
						<h2>Binaries are outdated</h2>
						<p>Like many things in life, roles aren't 0 and 1, black and white.</p>
						<pre>
						Male || Female
						Straight || Gay
						Black || White
						Religion || Science
						Good || Evil</pre>
					</section>

					<section>
						<h2>It's a spectrum!</h2>
						<pre>
[Good] --------------------------(Larry)-----------(Internet Explorer) [Evil]
[Noodles] -------(ShanXi)-----------------(Larry)---(GuangXi)--------- [Rice]
[LvRouHuoShao] ---------(Larry)---------------------------------- [RouJiaMou]</pre>
						<p>And it's all good!</p>
						<p>Everyone is different</p>
						<p>No one is better</p>
						<p>Everyone has something to contribute</p>
					</section>
				</section>

				<section>
					<section>
						<h2>Do the math</h2>
						<pre>
module Enumerable
    def sum
      self.inject(0){|accum, i| accum + i }
    end

    def mean
      self.sum/self.length.to_f
    end

    def sample_variance
      m = self.mean
      sum = self.inject(0){|accum, i| accum +(i-m)**2 }
      sum/(self.length - 1).to_f
    end

    def standard_deviation
      return Math.sqrt(self.sample_variance)
    end
end</pre>
					</section>
					<section>
						<h2>Do the math</h2>
						<p>With binary extremes</p>
						<pre>(([0]*5)+([1]*5)).standard_deviation
 => 0.5270462766947299</pre>

						<p>With a spectrum</p>
						<pre>(1..10).map { |i| i.to_f/10 }.standard_deviation
 => 0.30276503540974914</pre>
					</section>
				</section>

				<section>
					<section>
						<h2>Eliminating Binaries and Barriers</h2>
						<p>By eliminating binary roles we let people fall into their own place.</p>
						<p>Some will still be at the extremes</p>
						<p>But on average, everybody is closer together</p>
						<p>How do you think this makes us better, as human beings, and as a team?</p>
					</section>

					<section>
						<h2>In Practice</h2>
						<p>Everyone is more aware of others</p>
						<ul>
							<li>Their preferences</li>
							<li>What annoys them</li>
							<li>What they know</li>
							<li>How they can help</li>
						</ul>
					</section>
				</section>

				<section>
					<section>
						<h2>Operations</h2>
						<blockquote>Sysadmins now maintain easily accessible, low-level, self-serve components for developers to use ...</blockquote>
						<ul class="fragment">
							<li>Instance</li>
							<li>Storage</li>
							<li>LoadBalancer</li>
							<li>Database</li>
						</ul>
					</section>
					<section>
						<h2>Developers</h2>
						<blockquote>Programmers can apply a software development mentality to infrastructure management</blockquote>
						<ul class="fragment">
							<li>Robustness (it survives mis-use)</li>
							<li>Correctness (it does its job perfectly when used correctly)</li>
							<li>Version control</li>
							<li>Testability</li>
							<li>Flexibility</li>
						</ul>
					</section>
				</section>


				<section>
					<section>
						<h2>Roles Redefined</h2>
						<pre>[Ops] (Javier)------------(Karel)-----(Larry)--------------(WenBo)----- [Dev]</pre>
						<p>It's all good!</p>
					</section>
					<section>
						<h2>Development Heavy People</h2>
						<ul>
							<li>Write good code and tests for architecture</li>
							<li>Cleanly automate things</li>
						</ul>
					</section>
					<section>
						<h2>Ops Heavy People</h2>
						<ul>
							<li>Deeper understanding of low-level components (linux, servers/daemons, networking, security, etc)</li>
							<li>Understand how components fail, and how to compensate</li>
						</ul>
					</section>
				</section>

				<section>
					<section>
						<h2>Bridging the gap</h2>
						<p>People who can bridge this gap can often identify better solutions between</p>
						<ul>
							<li>"Let's write code to solve this"</li>
							<li>"Let's hack our blahblah daemon config"</li>
							<li>Maybe it's a bit of both!</li>
						</ul>
						<pre><code>proxy.php:
echo file_get_contents("http://internal-server/".$_SERVER['QUERY_STRING']);</code></pre>
						vs
						<pre><code>nginx.conf:
proxy_pass http://internal-server/</code></pre>
					</section>
					<section>
						<h2>Bridging the gap</h2>
						<p>Helping Dev heavy people make better use of resources</p>
						<ul>
							<li>Properly index a database</li>
							<li>Optimise caching</li>
							<li>Improve resiliency</li>
						</ul>
					</section>
					<section>
						<h2>Bridging the gap</h2>
						<p>Helping Ops heavy people make better use of resources</p>
						<ul>
							<li>Automate</li>
							<li>Minimise production support</li>
						</ul>
					</section>
				</section>

				<section>
					<h2>It's about enablement</h2>
					<blockquote>Larry and Karel don't "do" DevOps. We help our team get better at it.</blockquote>
					<ul>
						<li class="fragment">Let teams be more flexible in how they do things (software and versions)</li>
						<li class="fragment">Let teams be in control of how and when they deploy software</li>
						<li class="fragment">Facilitate the transition and challenge traditional role assumptions and expectations</li>
					</ul>
				</section>

				<section>
					<h2>How is it Done? 3 Tenets</h2>
					<p>Repeatability: Automation</p>
					<p>Visibility: Logging, monitoring and alerting</p>
					<p>Flexibility: Adequate response to change</p>
				</section>

				<section>
					<section>
						<h2>Repeatability</h2>
						<blockquote>Repeatability is the ease with which a process can be re-done.</blockquote>
						<p>It's important because it assumes a process and it's dependencies has been completely understood and distilled to very simple form. It is executable documentation.</p>
					</section>
					<section>
						<h2>Repeatability</h2>
<pre>
$ ftp production-site.com
> put index.php
> put lib/something.php
$ ssh ...</pre>
Error prone.
<pre>$ RAILS_ENVIRONMENT=production rake deploy</pre>
Not error prone. Anyone can run it, and see if it succeeds. Makes few, if any assumptions.

					</section>
					<section>
						<h2>Repeatability</h2>
						<p>Plenty of tools exist</p>
						<ul>
							<li>AWS</li>
							<li>Ansible</li>
							<li>Puppet</li>
							<li>Chef</li>
							<li>SaltStack</li>
							<li>cfengine</li>
							<li>Docker</li>
							<li>Vagrant</li>
							<li>Git</li>
							<li>etc ...</li>
						</ul>
					</section>
					<section>
						<h2>Tools: Does it matter?</h2>
						<h1>No!</h1>
					</section>
					<section>
						<h2>What it is</h2>
						<p>Does your tool meet these criteria?</p>
						<ul>
							<li>Is simple?</li>
							<li>Does the same thing every time?</li>
							<li>Clearly tells you if something went wrong?</li>
						</ul>
						<h3>Good</h3>
					</section>
				</section>

				<section>
					<section>
						<h2>Visibility</h2>
						<blockquote>Visibility is the ease with which one can extract valuable information</blockquote>
						<p>It is important because we need to know if something goes wrong, and be able to debug it in order to fix it</p>
					</section>
					<section>
						<h2>Visibility</h2>
						<p>Too much information, can't extract value.</p>
						<pre>$ cat /dev/random > /dev/console</pre>
						<p>Too little information, no value.</p>
						<pre>$ rake deploy 2&> /dev/null</pre>
						<p>Better. Organised, extractable</p>
						<pre>Nov 30 17:08:45 cnmlarry NetworkManager[1151]: <info> Activation (wlan0) Stage 4 of 5 (IPv6 Configure Timeout) scheduled...
Nov 30 17:08:45 cnmlarry NetworkManager[1151]: <info> Activation (wlan0) Stage 4 of 5 (IPv6 Configure Timeout) started...
Nov 30 17:08:45 cnmlarry NetworkManager[1151]: <info> Activation (wlan0) Stage 4 of 5 (IPv6 Configure Timeout) complete.</pre>

					</section>
					<section>
						<h2>Visibility</h2>
						<p>Plenty of tools exist</p>
						<ul>
							<li>CloudWatch</li>
							<li>NewRelic</li>
							<li>Nagios</li>
							<li>Bamboo</li>
							<li>Sensu</li>
							<li>Splunk</li>
							<li>Loggly</li>
							<li>Logstash (ELK)</li>
							<li>etc ...</li>
						</ul>
					</section>
					<section>
						<h2>Tools: Does it matter?</h2>
						<h1>No!</h1>
					</section>
					<section>
						<h2>What it is</h2>
						<p>Is there a (or many) tool to accomplish your task that ...</p>
						<ul>
							<li>Is simple?</li>
							<li>Identifies when something goes wrong?</li>
							<li>Tells the right people when something goes wrong?</li>
							<li>Lets you determine what went wrong?</li>
							<li>Lets you determine why it went wrong?</li>
						</ul>
						<h3>Good.</h3>
					</section>
				</section>

				<section>
					<section>
						<h2>Flexibility</h2>
						<p>The tools you use, are they flexible enough to ...</p>
						<ul>
							<li>Fulfill you current business needs?</li>
							<li>Fulfill imaginable/plausible future business needs?</li>
						</ul>
						<p>Is your process transparent?</p>
						<p>Does it include all stake-holders?</p>
						<p>Are technical blockers minimised?</p>
						<h3>Good.</h3>
					</section>
				</section>

				<section>
					<h2>The Bottom Line</h2>
					<p>It's about making IT delivery</p>
					<ul>
						<li>As painless as possible</li>
						<li>As safe as possible</li>
						<li>As fast as possible</li>
					</ul>
				</section>

				<section>
					<h2>Questions? Comments? Rotten tomatoes?</h2>
				</section>

			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
